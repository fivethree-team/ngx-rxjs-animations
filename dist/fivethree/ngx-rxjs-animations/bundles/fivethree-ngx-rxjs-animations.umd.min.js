!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@fivethree/ngx-rxjs-animations",["exports","rxjs","rxjs/operators","@angular/core","@angular/common"],n):n(((t=t||self).fivethree=t.fivethree||{},t.fivethree["ngx-rxjs-animations"]={}),t.rxjs,t.rxjs.operators,t.ng.core,t.ng.common)}(this,function(t,n,e,r,o){"use strict";function i(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function u(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(i(arguments[n]));return t}function a(t,e){return new n.Observable(function(n){var r,o=requestAnimationFrame(function i(u){var a=u-(r=r||u);a<e?(n.next(t(a,0,1,e)),o=requestAnimationFrame(i)):(n.next(t(e,0,1,e)),o=requestAnimationFrame(function(){n.complete()}))});return function(){o&&cancelAnimationFrame(o)}})}var f=function(t){return function(n){return n.pipe(e.first(),e.tap(t)).subscribe(),n}},c=function(t){return function(n){return n.pipe(e.last(),e.tap(t)).subscribe(),n}},s=function(t,n){return function(e){return e.pipe(c(function(){return n.forEach(function(n){return t.nativeElement.style[n]=""})}))}},p=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(r){return r.pipe(e.tap(function(e){var r=n.map(function(t){return t(e)}).join(" ");t.nativeElement.style.transform=r}))}},l=function(t,n,e){return function(r){var o=r*(n-t)+t;return e?e(o):""+o}},m=function(t,n){return l(t,n,function(t){return"translateY("+t+"%)"})},h=function(t,n){return l(t,n,function(t){return"translateX("+t+"%)"})},d=function(t,n){return l(t,n,function(t){return"scaleY("+t+")"})},g=["position","top","left","height","width"],v=["border-radius"],y=["color","background-color","border-color"],b=function(t){return[t+"-top",t+"-bottom",t+"-left",t+"-right"]};function x(t){var n=t.nativeElement.getBoundingClientRect();return{top:n.top,left:n.left,height:t.nativeElement.clientHeight,width:t.nativeElement.clientWidth}}function I(t,n){return+getComputedStyle(t.nativeElement).getPropertyValue(n).match(/\d+/)[0]}function M(t){var n=t.replace(/\s/g,"").match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);return u(n.splice(1,3).map(function(t){return+t}),[+n[4]||1])}function E(t,n,e){return t[3]||n[3]?"rgba("+(e*(t[0]-n[0])+n[0])+","+(e*(t[1]-n[1])+n[1])+","+(e*(t[2]-n[2])+n[2])+","+(e*(t[3]-n[3])+n[3])+")":"rgb("+(e*(t[0]-n[0])+n[0])+","+(e*(t[0]-n[0])+n[0])+","+(e*(t[0]-n[0])+n[0])+")"}var w=/,(?![^\(]*\))/,O=/\s(?![^(]*\))/,P={inset:!1,spreadRadius:0,offsetY:0,offsetX:0,blurRadius:0,color:"rgb(0,0,0)"},S=function(t){var n=t.split(O),e=n.includes("inset"),r=n[0],o=i(n.filter(function(t){return"inset"!==t}).filter(function(t){return t!==r}).map(B),4);return{inset:e||!1,offsetX:o[0]||0,offsetY:o[1]||0,blurRadius:o[2]||0,spreadRadius:o[3]||0,color:r||"rgba(0, 0, 0, 0)"}},R=function(t){return[t.inset?"inset":null,t.offsetX,t.offsetY,t.blurRadius,t.spreadRadius,t.color].filter(function(t){return null!=t}).map(C).map(function(t){return(""+t).trim()}).join(" ")},B=function(t){if(!/px$/.test(t)&&"0"!==t)return t;var n=parseFloat(t);return isNaN(n)?t:n},C=function(t){return"number"==typeof t&&0!==t?t+"px":t},_=function(t){return t.split(w).map(function(t){return t.trim()}).map(S)},j=function(t){return t.map(R).join(", ")};function Y(t,n,e,r){return{inset:t>=.5?n.inset:e.inset,color:r,blurRadius:t*(n.blurRadius-e.blurRadius)+e.blurRadius,offsetX:t*(n.offsetX-e.offsetX)+e.offsetX,offsetY:t*(n.offsetY-e.offsetY)+e.offsetY,spreadRadius:t*(n.spreadRadius-e.spreadRadius)+e.spreadRadius}}function q(t,n){return t.forEach(function(e){n.length<t.length&&n.push(P)}),n.forEach(function(e){t.length<n.length&&t.push(P)}),{tBS:t,fBS:n}}var X=function(t,n,r,o,i){return function(u){return u.pipe(e.tap(function(e){var u=i(e*(o-r)+r);t.nativeElement.style[n]=u}))}},D=function(t,n,e,r){return function(o){return o.pipe(X(t,r,n,e,function(t){return t+"px"}))}},Q=function(t,n,e){return function(r){return r.pipe(D(t,I(t,e),n,e))}},T=function(t,n,e){return function(r){return r.pipe(Q(t,"number"!=typeof n?n.left||0:n,e+"-left"),Q(t,"number"!=typeof n?n.right||0:n,e+"-right"),Q(t,"number"!=typeof n?n.top||0:n,e+"-top"),Q(t,"number"!=typeof n?n.bottom||0:n,e+"-bottom"),s(t,b(e)))}},A=function(t,n,e){return function(r){return t.nativeElement.style.position="fixed",r.pipe(D(t,n.top,e.top,"top"),D(t,n.height,e.height,"height"),D(t,n.left,e.left,"left"),D(t,n.width,e.width,"width"),s(t,g))}},F=function(t,n,e){return void 0===e&&(e="color"),function(r){var o=M(getComputedStyle(t.nativeElement).getPropertyValue(e)),i=M(n);return console.log("from to",i,o),r.pipe(X(t,e,0,1,function(t){return E(o,i,t)}),s(t,y))}},V=function(){function t(t){this.element=t,this.staggerDelay=0,this.delay=0,this._staggerIndex=0,this.element.nativeElement.style.opacity=0}return Object.defineProperty(t.prototype,"staggerIndex",{get:function(){return this._staggerIndex},set:function(t){this._index=u(this.element.nativeElement.parentElement.children).indexOf(this.element.nativeElement),this._staggerIndex=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.animIn&&setTimeout(function(){t._clone=t.element.nativeElement,t._parent=t.element.nativeElement.parentElement,t._index=u(t.element.nativeElement.parentElement.children).indexOf(t.element.nativeElement),n.of(!0).pipe(e.delay(t.staggerDelay*t.staggerIndex+t.delay),e.flatMap(function(){return t.animIn(t.element)}),f(function(){return t.element.nativeElement.style.opacity=""})).subscribe()},0)},t.prototype.ngOnDestroy=function(){var t=this;this.element.nativeElement.parentElement||this.animOut&&(this._inserted=this._parent.insertBefore(this._clone,this._parent.children[this._index]),this.element.nativeElement=this._inserted,n.of(!0).pipe(e.delay(this.staggerDelay*(this.staggerIndex+1)),e.flatMap(function(){return t.animOut(t.element)})).subscribe({complete:function(){t._parent.removeChild(t._inserted)}}))},t.decorators=[{type:r.Directive,args:[{selector:"[anim]"}]}],t.ctorParameters=function(){return[{type:r.ElementRef}]},t.propDecorators={animIn:[{type:r.Input,args:["anim.in"]}],animOut:[{type:r.Input,args:["anim.out"]}],staggerIndex:[{type:r.Input,args:["anim.stagger"]}],staggerDelay:[{type:r.Input,args:["anim.stagger.delay"]}],delay:[{type:r.Input,args:["anim.delay"]}]},t}(),k=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[V],imports:[o.CommonModule],exports:[V],providers:[]}]}],t}();function N(t,n,e,r){var o=e-n;return o-H(r-t,0,o,r)+n}function H(t,n,e,r){var o=e-n;return(t/=r)<1/2.75?o*(7.5625*t*t)+n:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+n:o*(7.5625*(t-=2.625/2.75)*t+.984375)+n}var L=function(t,n,e){return function(r){return r.pipe(D(t,I(n,e),I(t,e),e))}},U=function(t,n,e){return function(r){return r.pipe(L(t,n,e+"-left"),L(t,n,e+"-right"),L(t,n,e+"-top"),L(t,n,e+"-bottom"))}},Z=function(t,n){return function(e){var r=x(t),o=x(n);return e.pipe(A(t,o,r))}},$=function(t,n){return function(e){var r=getComputedStyle(t.nativeElement).getPropertyValue("box-shadow"),o=getComputedStyle(n.nativeElement).getPropertyValue("box-shadow"),i=_(r),u=_(o);return e.pipe(X(t,"box-shadow",0,1,function(t){var n=q(i,u),e=n.tBS,r=n.fBS,o=e.map(function(n,e){var o=r[e];o.color="none"===o.color?"rgba(0,0,0,0)":o.color,n.color="none"===n.color?o.color:n.color;var i=E(M(n.color),M(o.color),t);return Y(t,n,o,i)});return j(o)}),s(t,["box-shadow"]))}},z=function(t,n){return function(e){return e.pipe(Z(t,n),$(t,n),L(t,n,"border-radius"),s(t,v))}},G=function(t,n,e){return void 0===e&&(e="color"),function(r){var o=getComputedStyle(n.nativeElement).getPropertyValue(e);return r.pipe(F(t,o,e),s(t,y))}};t.AnimateDirective=V,t.AnimationsModule=k,t.after=c,t.afterStyle=function(t,n,e){return function(r){return r.pipe(c(function(){return t.nativeElement.style[n]=e}))}},t.before=f,t.beforeStyle=function(t,n,e){return function(r){return r.pipe(f(function(){return t.nativeElement.style[n]=e}))}},t.easeInBack=function(t,n,e,r,o){return void 0===o&&(o=1.70158),(e-n)*(t/=r)*t*((o+1)*t-o)+n},t.easeInBounce=N,t.easeInCirc=function(t,n,e,r){return-(e-n)*(Math.sqrt(1-(t/=r)*t)-1)+n},t.easeInCubic=function(t,n,e,r){return(e-n)*(t/=r)*t*t+n},t.easeInElastic=function(t,n,e,r){var o,i,u,a=e-n;return u=1.70158,0===t?n:1==(t/=r)?n+a:((i=0)||(i=.3*r),(o=a)<Math.abs(a)?(o=a,u=i/4):u=i/(2*Math.PI)*Math.asin(a/o),-o*Math.pow(2,10*(t-=1))*Math.sin((t*r-u)*(2*Math.PI)/i)+n)},t.easeInExpo=function(t,n,e,r){return 0==t?n:(e-n)*Math.pow(2,10*(t/r-1))+n},t.easeInOutBack=function(t,n,e,r,o){var i=e-n;return void 0===o&&(o=1.70158),(t/=r/2)<1?i/2*(t*t*((1+(o*=1.525))*t-o))+n:i/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n},t.easeInOutBounce=function(t,n,e,r){var o=e-n;return t<r/2?.5*N(2*t,0,o,r)+n:.5*H(2*t-r,0,o,r)+.5*o+n},t.easeInOutCirc=function(t,n,e,r){var o=e-n;return(t/=r/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+n:o/2*(Math.sqrt(1-(t-=2)*t)+1)+n},t.easeInOutCubic=function(t,n,e,r){var o=e-n;return(t/=r/2)<1?o/2*t*t*t+n:o/2*((t-=2)*t*t+2)+n},t.easeInOutElastic=function(t,n,e,r){var o,i,u,a=e-n;return u=1.70158,0===t?n:2==(t/=r/2)?n+a:((i=0)||(i=r*(.3*1.5)),(o=a)<Math.abs(a)?(o=a,u=i/4):u=i/(2*Math.PI)*Math.asin(a/o),t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*r-u)*(2*Math.PI)/i)*-.5+n:o*Math.pow(2,-10*(t-=1))*Math.sin((t*r-u)*(2*Math.PI)/i)*.5+a+n)},t.easeInOutExpo=function(t,n,e,r){var o=e-n;return 0===t?n:t===r?n+o:(t/=r/2)<1?o/2*Math.pow(2,10*(t-1))+n:o/2*(2-Math.pow(2,-10*--t))+n},t.easeInOutQuad=function(t,n,e,r){var o=e-n;return(t/=r/2)<1?o/2*t*t+n:-o/2*(--t*(t-2)-1)+n},t.easeInOutQuart=function(t,n,e,r){var o=e-n;return(t/=r/2)<1?o/2*t*t*t*t+n:-o/2*((t-=2)*t*t*t-2)+n},t.easeInOutQuint=function(t,n,e,r){var o=e-n;return(t/=r/2)<1?o/2*t*t*t*t*t+n:o/2*((t-=2)*t*t*t*t+2)+n},t.easeInOutSine=function(t,n,e,r){return-(e-n)/2*(Math.cos(Math.PI*t/r)-1)+n},t.easeInQuad=function(t,n,e,r){return(e-n)*(t/=r)*t+n},t.easeInQuart=function(t,n,e,r){return(e-n)*(t/=r)*t*t*t+n},t.easeInQuint=function(t,n,e,r){return(e-n)*(t/=r)*t*t*t*t+n},t.easeInSine=function(t,n,e,r){var o=e-n;return-o*Math.cos(t/r*(Math.PI/2))+o+n},t.easeOutBack=function(t,n,e,r,o){return void 0===o&&(o=1.70158),(e-n)*((t=t/r-1)*t*((o+1)*t+o)+1)+n},t.easeOutBounce=H,t.easeOutCirc=function(t,n,e,r){return(e-n)*Math.sqrt(1-(t=t/r-1)*t)+n},t.easeOutCubic=function(t,n,e,r){return(e-n)*((t=t/r-1)*t*t+1)+n},t.easeOutElastic=function(t,n,e,r){var o,i,u,a=e-n;return u=1.70158,0===t?n:1==(t/=r)?n+a:((i=0)||(i=.3*r),(o=a)<Math.abs(a)?(o=a,u=i/4):u=i/(2*Math.PI)*Math.asin(a/o),o*Math.pow(2,-10*t)*Math.sin((t*r-u)*(2*Math.PI)/i)+a+n)},t.easeOutExpo=function(t,n,e,r){var o=e-n;return t==r?n+o:o*(1-Math.pow(2,-10*t/r))+n},t.easeOutQuad=function(t,n,e,r){return-(e-n)*(t/=r)*(t-2)+n},t.easeOutQuart=function(t,n,e,r){return-(e-n)*((t=t/r-1)*t*t*t-1)+n},t.easeOutQuint=function(t,n,e,r){return(e-n)*((t=t/r-1)*t*t*t*t+1)+n},t.easeOutSine=function(t,n,e,r){return(e-n)*Math.sin(t/r*(Math.PI/2))+n},t.fadeIn=function(t,n,e){return a(n,e).pipe(X(t,"opacity",0,1,function(t){return""+t}))},t.fadeOut=function(t,n,e){return a(n,e).pipe(X(t,"opacity",1,0,function(t){return""+t}))},t.fps=function(){return function(t){var n=0,r=[];return t.pipe(f(function(){n=performance.now()}),e.tap(function(){return r.push(1/(performance.now()-n))}),e.tap(function(){return n=performance.now()}),c(function(){performance.now()}))}},t.fromTo=X,t.fromToBoxModel=function(t,n,e,r){return function(o){return o.pipe(D(t,"number"!=typeof n?n.left||0:n,"number"!=typeof e?e.left||0:e,r+"-left"),D(t,"number"!=typeof n?n.right||0:n,"number"!=typeof e?e.right||0:e,r+"-right"),D(t,"number"!=typeof n?n.top||0:n,"number"!=typeof e?e.top||0:e,r+"-top"),D(t,"number"!=typeof n?n.bottom||0:n,"number"!=typeof e?e.bottom||0:e,r+"-bottom"),s(t,b(r)))}},t.fromToColor=F,t.fromToPixels=D,t.fromToPosition=A,t.getPosition=x,t.getStylePixels=I,t.getTweenedRgb=E,t.linear=function(t,n,e,r){return(e-n)*t/r+n},t.morph=function(t,n){return function(e){return e.pipe(z(t,n),U(t,n,"padding"),G(t,n,"background-color"))}},t.morphBoxModel=U,t.morphBoxShadow=$,t.morphColor=G,t.morphElement=z,t.morphPosition=Z,t.morphStylePixels=L,t.morphText=function(t,n){return function(e){return e.pipe(z(t,n),U(t,n,"padding"),G(t,n),L(t,n,"font-size"),L(t,n,"font-weight"))}},t.parseRgb=M,t.removeStyle=function(t,n){return function(e){return e.pipe(c(function(){return t.nativeElement.style[n]=""}))}},t.removeStyles=s,t.reverse=function(){return function(t){return t.pipe(e.map(function(t){return 1-t}))}},t.rgbToHex=function(t){var n=M(t);return n&&4===n.length?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):t},t.scale=function(t,n){return l(t,n,function(t){return"scale("+t+")"})},t.scaleX=function(t,n){return l(t,n,function(t){return"scaleX("+t+")"})},t.scaleY=d,t.scaleYOut=function(t,n,e){return a(n,e).pipe(p(t,d(1,0)))},t.setPosition=function(t,n){return t.nativeElement.style.top=n.top+"px",t.nativeElement.style.left=n.left+"px",t.nativeElement.style.height=n.height+"px",t.nativeElement.style.width=n.width+"px",t},t.setStyle=function(t,n,e){t.nativeElement.style[n]=e},t.slideInDown=function(t,n,e){return a(n,e).pipe(p(t,m(-100,0)))},t.slideInLeft=function(t,n,e){return a(n,e).pipe(p(t,h(-100,0)))},t.slideInRight=function(t,n,e){return a(n,e).pipe(p(t,h(100,0)))},t.slideInUp=function(t,n,e){return a(n,e).pipe(p(t,m(100,0)))},t.slideOutDown=function(t,n,e){return a(n,e).pipe(p(t,m(0,100)))},t.slideOutLeft=function(t,n,e){return a(n,e).pipe(p(t,h(0,-100)))},t.slideOutRight=function(t,n,e){return a(n,e).pipe(p(t,h(0,100)))},t.slideOutUp=function(t,n,e){return a(n,e).pipe(p(t,m(0,-100)))},t.stagger=function(t,r,o){var i=n.of(null);return n.merge.apply(void 0,u(t.map(function(t,n){return i.pipe(e.delay(o*n),e.flatMap(function(){return r(t)}))})))},t.toBoxModel=T,t.toBoxShadow=function(t,n){return function(e){var r=getComputedStyle(t.nativeElement).getPropertyValue("box-shadow"),o=_(r),i=_(n);return e.pipe(X(t,"box-shadow",0,1,function(t){var n=q(o,i),e=n.tBS,r=n.fBS,u=e.map(function(n,e){var o=r[e],i=E(M(n.color)||M("rgb(0,0,0)"),M(o.color)||M("rgb(0,0,0)"),t);return Y(t,n,o,i)});return j(u)}),s(t,["box-shadow"]))}},t.toMargin=function(t,n){return function(e){return e.pipe(T(t,n,"margin"))}},t.toPadding=function(t,n){return function(e){return e.pipe(T(t,n,"padding"))}},t.toPixels=Q,t.toPosition=function(t,n){return function(e){return t.nativeElement.style.position="fixed",e.pipe(Q(t,n.top,"top"),Q(t,n.left,"left"),Q(t,n.height,"height"),Q(t,n.width,"width"),s(t,g))}},t.toRGB=function(t){return"rgb("+Math.floor(t/65536)+","+Math.floor(t/256)%256+","+t%256+")"},t.transform=p,t.transformF=l,t.translateX=h,t.translateY=m,t.translateZ=function(t,n){return l(t,n,function(t){return"translateZ("+t+"%)"})},t.tween=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=fivethree-ngx-rxjs-animations.umd.min.js.map